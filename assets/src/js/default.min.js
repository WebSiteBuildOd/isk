$(function(){function e(){var e=window,s="inner";return"innerWidth"in window||(s="client",e=document.documentElement||document.body),{width:e[s+"Width"],height:e[s+"Height"]}}$(window).on("load",function(){$(".js-gerb-animate").each(function(){$(this).addClass("show")}),$(".js-animateme").each(function(){let e=$(this).data("animate-delay"),s=$(this).data("animate-class");$(this).css("transition-delay",e+"ms"),$(this).addClass(s)})}),$(window).scroll(function(){let e=$(window).height(),s=$(window).width(),t=$(window).scrollTop();$(".js-paralax").each(function(){let i=$(this).offset().top,a=$(this).data("paralax-side"),o=$(this).data("paralax-step");"bottom"==a&&$(this).attr("style","transform: translateY("+(-t-i)/o+"px)"),"left"==a?($(this).attr("style","transform: translateX("+(t-i+e)/o+"px)"),s<e&&$(this).attr("style","transform: translateX("+(t-i+e/2)/o+"px)")):$(this).attr("style","transform: translateY("+(t-i)/o+"px)")})}),$(".service-preview__row").each(function(){let s=$(".service-preview__row").height()+$(".service-preview__row").offset().top;e().height>s?$(window).on("load",function(){$(".js-scroll-animateme").each(function(){let e=$(this).data("animate-delay"),s=$(this).data("animate-class");$(this).css("transition-delay",e+"ms"),$(this).addClass(s)})}):$(window).scroll(function(){var s=e().height,t=$(window).scrollTop();$(".js-scroll-animateme").each(function(){var e=$(this).offset().top,i=$(this).data("animate-offset"),a=$(this).data("animate-delay"),o=$(this).data("animate-class"),n=t+s-i;$(this).css("transition-delay",a+"ms"),n>=e&&$(this).addClass(o)})})}),$(".js-scroll-to").click(function(){var e=$(this).attr("href"),s=$(this).data("href");return s&&(e=s),$("html, body").animate({scrollTop:$(e).offset().top+"px"},{duration:1e3}),!1}),$(".js-confirm-number").click(function(){$(".js-sms").slideDown(300),setTimeout(function(){$(".js-confirm-number").addClass("is-active")},500),$(this).hasClass("is-active")&&($(".js-sms").slideUp(300),$(".js-sucsess").fadeIn(300),$(this).hide())}),$(".js-toggle-sesult").click(function(){$(".js-result-box").fadeToggle(300),$(this).toggleClass("is-disabled")}),$(".faq__item-head").click(function(){$(this).closest(".faq__item").hasClass("is-active")?($(this).closest(".faq__item").removeClass("is-active"),$(this).closest(".faq__item").find(".faq__item-content").slideUp(300)):($(".faq__item.is-active").removeClass("is-active"),$(".faq__item-content:visible").slideUp(300),$(this).closest(".faq__item").find(".faq__item-content").slideDown(300),$(this).closest(".faq__item").addClass("is-active"))});$(".quiz__top-item").length;$(".js-next-step").click(function(){let e=$(".quiz__line").width()/6+$(".quiz__scale").width();return $(".quiz__step.is-active").hide().removeClass("is-active").next().addClass("is-active").fadeIn(500),$(".quiz__top-item.is-active").addClass("is-complete").removeClass("is-active").next().addClass("is-active"),$(".quiz__scale").css("width",e),!1}),$(".js-prev-step").click(function(){return $(".quiz__step.is-active").hide().removeClass("is-active").prev().addClass("is-active").fadeIn(500),!1}),$(".js-step-status").click(function(){return $(this).closest(".quiz__step").hide(),$(".quiz__step_status").fadeIn(300),setTimeout(function(){$(".status-list__item:nth-child(1)").removeClass("is-wait").addClass("is-complete"),$(".status-list__item:nth-child(2)").addClass("is-wait"),setTimeout(function(){$(".status-list__item:nth-child(2)").removeClass("is-wait").addClass("is-complete"),$(".status-list__item:nth-child(3)").addClass("is-wait"),setTimeout(function(){$(".status-list__item:nth-child(3)").removeClass("is-wait").addClass("is-complete"),$(".status-list__item:nth-child(4)").addClass("is-wait"),setTimeout(function(){$(".status-list__item:nth-child(4)").removeClass("is-wait").addClass("is-complete"),$(".status-list__item:nth-child(5)").addClass("is-wait")},3e3)},3e3)},3e3)},3e3),!1}),$(".js-to-pay").click(function(){$(".status-list__item:nth-child(5)").removeClass("is-wait").addClass("is-complete"),$(".status-list__item:nth-child(6)").addClass("is-wait");let e=$(".quiz__line").width()/6+$(".quiz__scale").width();$(".quiz__scale").css("width",e),$(".quiz__top-item.is-active").addClass("is-complete").removeClass("is-active").next().addClass("is-active")}),$(".js-to-docs").click(function(){return $(".status-list__item:nth-child(6)").removeClass("is-wait").addClass("is-complete"),$(".status-list__item:nth-child(7)").addClass("is-wait"),setTimeout(function(){$(".status-list__item:nth-child(7)").removeClass("is-wait").addClass("is-complete"),$(".quiz__top-item.is-active").addClass("is-complete").removeClass("is-active").next().addClass("is-active"),$(".quiz__scale").css("width","100%")},5e3),!1}),$(".quiz .radio__input").change(function(){$(this).closest(".quiz__step").find(".btn_blue").removeClass("is-hidden")}),$(".js-series, .js-date").on("keyup blur",function(){$(".js-series").val().length>=8&&$(".js-date").val().length>=8?$(this).closest(".quiz__step").find(".btn_blue").removeClass("is-hidden"):$(this).closest(".quiz__step").find(".btn_blue").addClass("is-hidden")}),$(".js-state").change(function(){$(".location__btn").removeClass("is-disabled").addClass("js-close-modal")}),$(".js-city").change(function(){$(".location__field").slideDown(300)}),$(".js-auto").change(function(){$(".location__field").slideUp(300)}),$(".js-gender").change(function(){let e=$(this).closest(".radio").index()+1;$(".service-form__points .service-form__list:visible").hide(),$(".service-form__points .service-form__list:nth-child("+e+")").fadeIn(500),$(".service-form__points .checkbox__input").removeAttr("disabled"),$(".service-form__box_points").removeClass("is-hidden")}),$(".js-child-radio").change(function(){$(".js-show-form").hasClass("is-hidden")&&$(".js-show-form").removeClass("is-hidden")}),$(".service-form__points .checkbox__input").change(function(){$(".service-form__points .checkbox__input").is(":checked")?$(".service-form__box_child").removeClass("is-hidden"):$(".service-form__box_child").addClass("is-hidden")}),$(".service-form__points .checkbox__input").not(".service-form__points .checkbox__input.js-not-value").change(function(){$(".js-not-value").prop("checked","")}),$(".js-not-value").change(function(){$(".service-form__points .checkbox__input").not(".service-form__points .checkbox__input.js-not-value").prop("checked","")}),$(".js-phone-input").on("keyup blur",function(){$(this).val().length>=8?$(".js-phone-btn").fadeIn(300):$(".js-phone-btn").fadeOut(300)}),$(".header__select").click(function(){$(this).toggleClass("is-active")}),$(".header__select-item").click(function(){$(".header__select-item.is-active").removeClass("is-active"),$(this).addClass("is-active"),$(".header__select-text").text($(this).text())});var s=document.querySelectorAll("input[name='phone']"),t=document.querySelectorAll("input[name='series']"),i=document.querySelectorAll("input[name='date']"),a=new Inputmask({mask:"+7 (999) 999-99-99",clearMaskOnLostFocus:!0,clearIncomplete:!1}),o=new Inputmask({mask:"99 999999",clearMaskOnLostFocus:!0,clearIncomplete:!1}),n=new Inputmask({mask:"99.99.9999",clearMaskOnLostFocus:!0,clearIncomplete:!1});a.mask(s),o.mask(t),n.mask(i),$(".input__field").on("focus",e=>{$(e.target).parent().addClass("is-focus")}).on("blur change",e=>{let s=$(e.target);""==s.val()&&s.parent().removeClass("is-focus")}),$(".field__input").each(function(){let e=$(this).attr("placeholder");$(this).parent().append('<label class="field__mask">'+e+"</label>"),$(this).attr("placeholder",""),$(this).val().length>1&&$(this).closest(".field").find(".field__mask").addClass("is-focus")}).blur(function(){$(this).val().length>1?$(this).parent().find(".field__mask").addClass("is-focus"):$(this).parent().find(".field__mask").removeClass("is-focus")}),$(".field__mask").click(function(){$(this).parent().find(".field__input").focus()});var l={close:e=>{if(!e)return!1;e.preventDefault(),config.log("close modal"),$.magnificPopup.close()},open:(e,s)=>{if((e=e||!1)&&e.preventDefault(),$.magnificPopup.close(),!(s=s||(0!=e?$(e.currentTarget).attr("href")?$(e.currentTarget).attr("href"):$(e.currentTarget).data("modal"):e)))return!1;e&&$(e.currentTarget).attr("data-youtube")&&$(s+" iframe").attr("src","https://www.youtube.com/embed/"+$(e.currentTarget).data("youtube")+"?autoplay=1&showinfo=0&rel=0&controls=0"),e&&$(e.currentTarget).attr("data-input")&&$(s+' input[name="form"]').val($(e.currentTarget).data("input")),config.log("modal open"),$.magnificPopup.open({tClose:"Закрыть",removalDelay:600,fixedContentPos:!0,fixedBgPos:!0,overflowY:"hidden",closeMarkup:'<div class="modals__close close js-close-modal"><svg class="icon icon-close" viewBox="0 0 612 612"><use xlink:href="/app/icons/sprite.svg#close"></use></svg></div>',mainClass:"css-modal-animate",items:{src:s,type:"inline"},callbacks:{beforeOpen:()=>{},beforeClose:()=>{}}},0)},init:e=>{$(document).on("click",".js-close-modal",l.close),$(document).on("click",".js-modal",l.open),$(window).on("load",function(){$("#location").each(function(){setTimeout(function(){$.magnificPopup.open({tClose:"Закрыть",removalDelay:600,fixedContentPos:!0,fixedBgPos:!0,overflowY:"hidden",closeMarkup:'<div class="modals__close close js-close-modal"><svg class="icon icon-close" viewBox="0 0 612 612"><use xlink:href="/app/icons/sprite.svg#close"></use></svg></div>',mainClass:"css-modal-animate",items:{src:"#location",type:"inline"},callbacks:{beforeOpen:()=>{},beforeClose:()=>{}}},0)},3e3)})})}};l.init();var c={selector:".js-slider",settings:{items:1,nav:!0,dots:!1,loop:!0,autoplay:!1,smartSpeed:600,margin:20,navText:['<svg class="icon icon-arrowLeft" viewBox="0 0 12 19"><use xlink:href="/app/icons/sprite.svg#arrowLeft"></use></svg>','<svg class="icon icon-arrowRight" viewBox="0 0 12 19"><use xlink:href="/app/icons/sprite.svg#arrowRight"></use></svg>']},bar:(e,s)=>{$(e).find(".owl-progress-bar").css("width",`${s}%`)},build:e=>{let s=$(e).attr("data-settings")?$(e).data("settings"):{},t=JSON.parse(JSON.stringify(c.settings)),i=Object.assign(t,s);$(e).addClass("owl-carousel").on("initialized.owl.carousel",e=>{let s=$(e.target),t=s.find(".js-logo:not([style])");t.length&&t.each((e,s)=>{if($(s).hasClass("is-changed"))return!1;defaults.logoLoading(s)});$(e.target).find(".owl-counter");let i=e.relatedTarget,a=i.items().length,o=i.relative(i.current())+1;if(s.attr("data-progress-bar")){let e=s.data("progress-bar");c.bar(e,100/(a/o)),console.log("bar is",e,100/(a/o))}if(s.attr("data-counter")){let e=s.data("counter");$(e).html(`<div class="owl-counter"><span class="owl-counter-current">${o}</span>/${a}</div>`)}}).on("drag.owl.carousel",e=>{document.ontouchmove=(e=>{e.preventDefault()})}).on("dragged.owl.carousel",e=>{document.ontouchmove=(e=>!0)}).on("changed.owl.carousel",e=>{if(!e.namespace)return;let s=e.relatedTarget,t=s.items().length,i=s.relative(s.current())+1;if($(e.target).attr("data-progress-bar")){let s=$(e.target).data("progress-bar");c.bar(s,100/(t/i)),console.log("bar is",s,100/(t/i))}if($(e.target).attr("data-counter")){let s=$(e.target).data("counter");$(s).find(".owl-counter-current").text(i)}}).owlCarousel(i),$(c.selector).hasClass("js-product-slider")&&(console.log(".js-product-slider"),$(".js-product-slider").on("changed.owl.carousel",e=>{let s=$(e.target).closest(".js-slider-parent"),t=e.relatedTarget,i=t.relative(t.current());s.find(".js-product-thumbnails").sly("activate",i)}))},destroy:e=>{$(e).hasClass("owl-loaded")&&$(e).trigger("destroy.owl.carousel").removeClass("owl-carousel"),$(e).find(".owl-counter").remove()},run:e=>{c.build(e)},resize:()=>{if($(c.selector).hasClass("owl-resize")&&$(window).innerWidth()>1100){let e=$(".blog__item_big"),s=$(".blog__item_small"),t=$(c.selector).innerWidth();e.css("width",t/2-15),s.css("width",t/4-23)}else $(".blog__item").css("width","")},init:()=>{if(!$(c.selector).length)return!1;$(window).on("load",e=>{$(c.selector).each((e,s)=>{c.run(s)})}),c.resize(),$(window).on("resize",c.resize)}};c.init();var r={selector:".js-wrapSlider",resolution:769,run:e=>{let s=$(e).attr("data-resolution")?$(e).data("resolution"):r.resolution;$(window).on("load resize",()=>{$(window).width()<=s?c.build(e):c.destroy(e)})},init:()=>{if(!$(r.selector).length)return!1;$(r.selector).each((e,s)=>{r.run(s)})}};r.init()});